<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>イルミネーション表示画面</title>
</head>
<body>
    <input type="number" id="deviceId" value="0" max="9" min="0" />
    <script src="TeteteAjax.js"></script>
    <script>
        var c = 0;
        loop();
        var timer = setTimeout(loop, 6000);
        function loop() {
            doget("", "/getcolor", function (res) {
                clearTimeout(timer);
                c = JSON.parse(res)[document.getElementById("deviceId").value];
                loop();
                setTimeout(loop, 600);
            });
            console.log(c);
            var str = c.toString(16);
            for (; ;) {
                if (str.length < 6) {
                    str += "0";
                } else {
                    break;
                }
            }
            document.body.style.backgroundColor = "#" + str;
        }
    </script>
</body>
</html>